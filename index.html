<!doctype html>
<html>
	<head>
		<title>synth.js</title>
		<meta charset="utf-8" />
		<script src="js/synth.js"></script>
	</head>
	<body>
		
		<div><input type="number" id="lfoRate" min="0" max="20">LFO Rate</div>
		<div><input type="number" id="lfoDepth" min="0" max="100">LFO Depth</div>

		<script type="module">
			import '/js/synth.js';

			//listen for first click
   document.addEventListener("click", setup, { once: true });

   function setup(e) {
		audioContext = new (window.AudioContext || window.webkitAudioContext)();

	   let osc = new Oscillator({
		frequency: 100,
		gain: 1,
		   type:'square'
	});

	osc.start();


	   osc.hz(200);

   let eq = new EQ({
	   type:'lowpass',
	   frequency: 200,
	   gain: 0.8,
	   Q:1
   });
   console.log(eq)

	   
	   
	   
	   var lfo = new LFO({
		//type:'lowpass',
		//frequency: 200,
		//gain: 0.8,
		//Q:1
	});

	   
	   
	   setTimeout(function(){

		   osc.plug(eq)
		   
		   
		   lfo.plug(osc)
	   }, 500);

	   
	   
	   
	   setTimeout(function(){
		   osc.plug(eq)
	   }, 1000);

   //const lfoRate = document.querySelector("input#lfoRate");

   //document.addEventListener("input", lfoRate);

   document.getElementById("lfoRate").addEventListener( 'input', function( e ) { lfo.setFrequency(this.value) });
   document.getElementById("lfoDepth").addEventListener( 'input', function( e ) { lfo.depth(this.value) });

   }

			
			</script>
	</body>
</html>
